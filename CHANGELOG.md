# 更新日志 📝

本文档记录了"崔子瑾诱捕器"项目的所有重要更改。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 计划中的功能
- 网站分类管理
- 时间段控制
- 使用统计报告
- 多用户支持

## [1.0.0] - 2024-07-05

### 🎉 首次发布

#### 新增功能
- ✅ **网站访问控制** - 精确控制可访问的网站列表
- ✅ **用户认证系统** - 密码保护的管理员界面
- ✅ **代理服务器** - 内置HTTP代理实现网站拦截
- ✅ **进程保护机制** - 防止应用被恶意关闭
- ✅ **看门狗服务** - 独立进程监控和自动重启
- ✅ **密码保护退出** - 退出应用需要管理员密码验证
- ✅ **跨平台支持** - Windows、macOS、Linux 全平台支持
- ✅ **现代化界面** - 基于 React + TypeScript 的响应式UI
- ✅ **主题切换** - 支持明暗主题切换
- ✅ **系统集成** - 开机自启动和系统托盘

#### 安全特性
- 🔒 **进程隐藏** - 生产环境下隐藏进程
- 🔒 **防火墙集成** - 自动配置防火墙规则
- 🔒 **管理员权限** - Windows 下要求管理员权限
- 🔒 **密码加密** - 使用 PBKDF2 加密存储密码
- 🔒 **配置加密** - 敏感配置信息加密存储

#### 技术架构
- ⚡ **Electron 23** - 跨平台桌面应用框架
- ⚛️ **React 18** - 现代化前端框架
- 🔷 **TypeScript** - 类型安全的开发体验
- 🎨 **Tailwind CSS** - 实用优先的CSS框架
- 🎭 **Framer Motion** - 流畅的动画效果
- 🗄️ **SQLite** - 轻量级本地数据库
- 🧪 **Playwright** - 端到端测试框架

#### 开发工具
- 📦 **Webpack** - 主进程代码打包
- ⚡ **Vite** - 渲染进程快速构建
- 🔧 **ESLint** - 代码质量检查
- 💅 **Prettier** - 代码格式化
- 🏗️ **electron-builder** - 应用打包和分发

### 🛠️ 技术细节

#### 网站拦截机制
- HTTP 代理服务器拦截网络请求
- 域名白名单/黑名单控制
- HTTPS 隧道支持
- 实时网络监控

#### 进程保护实现
- 看门狗进程独立运行
- 心跳检测机制（10秒间隔）
- 自动重启逻辑（最多5次重试）
- 进程信号处理

#### 数据存储
- SQLite 数据库存储网站列表
- 加密配置文件存储设置
- 操作日志记录
- 自动数据备份

### 📦 构建和分发

#### 支持的平台
- **Windows** - NSIS 安装程序 + 便携版
- **macOS** - DMG 磁盘映像 + ZIP 压缩包
- **Linux** - AppImage + DEB + RPM 包

#### 自动化构建
- GitHub Actions 多平台构建
- 自动发布到 GitHub Releases
- 代码签名支持（可选）
- 构建产物自动上传

### 🔧 安装要求

#### 系统要求
- **Windows**: Windows 10 或更高版本
- **macOS**: macOS 10.15 或更高版本  
- **Linux**: 支持 AppImage 的现代发行版

#### 权限要求
- **Windows**: 管理员权限（用于系统代理设置）
- **macOS**: 可能需要在安全设置中允许运行
- **Linux**: 执行权限

### 🐛 已知问题

#### Windows
- 首次运行可能被防病毒软件误报
- 需要管理员权限才能启用完整功能

#### macOS
- 首次运行需要在安全设置中允许
- 可能需要手动信任开发者

#### Linux
- 某些发行版可能需要额外的依赖包
- AppImage 需要 FUSE 支持

### 🔮 未来计划

#### v1.1.0 计划
- 网站分类管理
- 时间段访问控制
- 使用统计和报告
- 更多主题选项

#### v1.2.0 计划
- 多用户支持
- 远程管理功能
- 云同步配置
- 移动端管理应用

#### v2.0.0 计划
- 全新的UI设计
- 插件系统
- API 接口
- 企业级功能

---

## 版本说明

- **主版本号**：不兼容的API修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

## 获取更新

- 📥 [GitHub Releases](https://github.com/your-username/cuizijin-trap/releases)
- 🔄 应用内自动更新检查
- 📧 订阅发布通知
